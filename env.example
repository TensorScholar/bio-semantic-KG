# Environment Configuration for Medical Aesthetics Extraction Engine
# Elite Technical Consortium Implementation

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Neo4j Graph Database
NEO4J_PASSWORD=medical-extraction-secure-password
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j

# Elasticsearch
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=elastic-password

# Redis Cache
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=redis-password

# TimescaleDB
POSTGRES_PASSWORD=medical-extraction-secure-password
TIMESCALE_URL=postgresql://postgres:medical-extraction-secure-password@localhost:5432/medical

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Browserless Chrome
BROWSERLESS_URL=http://localhost:3000
BROWSERLESS_TOKEN=medical-extraction-token

# Pinecone Vector Database
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=your-pinecone-environment
PINECONE_INDEX_NAME=medical-aesthetics

# OpenAI API
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment
NODE_ENV=development
LOG_LEVEL=debug
PORT=8080
METRICS_PORT=9090

# Extraction Settings
EXTRACTION_BATCH_SIZE=10
MAX_CONCURRENT_EXTRACTIONS=20
EXTRACTION_TIMEOUT=30000
RETRY_ATTEMPTS=3
RETRY_DELAY=1000

# Cache Settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_CLEANUP_INTERVAL=300

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20
RATE_LIMIT_WINDOW=60000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption
ENCRYPTION_KEY=your-32-character-encryption-key
ENCRYPTION_ALGORITHM=aes-256-gcm

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

# Jaeger Tracing
JAEGER_ENABLED=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_SERVICE_NAME=medical-extraction-engine

# Grafana
GRAFANA_PASSWORD=admin-password
GRAFANA_ADMIN_EMAIL=admin@medical.com

# =============================================================================
# ML & AI CONFIGURATION
# =============================================================================

# Model Paths
ML_MODELS_PATH=/app/ml-models
PERSIAN_MODEL_PATH=/app/ml-models/persian-medical
ENGLISH_MODEL_PATH=/app/ml-models/english-medical
NER_MODEL_PATH=/app/ml-models/medical-ner

# Model Settings
MODEL_CACHE_SIZE=5
MODEL_LOAD_TIMEOUT=30000
MODEL_INFERENCE_TIMEOUT=10000

# NLP Settings
NLP_BATCH_SIZE=32
NLP_MAX_LENGTH=512
NLP_CONFIDENCE_THRESHOLD=0.8

# =============================================================================
# EXTRACTION CONFIGURATION
# =============================================================================

# Web Scraping
SCRAPING_DELAY=1000
SCRAPING_TIMEOUT=30000
SCRAPING_RETRIES=3
SCRAPING_USER_AGENT=Mozilla/5.0 (compatible; MedicalExtraction/1.0)

# Image Processing
IMAGE_MAX_SIZE=10485760  # 10MB
IMAGE_ALLOWED_FORMATS=jpg,jpeg,png,webp
IMAGE_QUALITY=85
IMAGE_RESIZE_MAX_WIDTH=1920
IMAGE_RESIZE_MAX_HEIGHT=1080

# Content Processing
CONTENT_MAX_LENGTH=1000000  # 1MB
CONTENT_CLEANUP_ENABLED=true
CONTENT_NORMALIZATION_ENABLED=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
FEATURE_ADVANCED_NLP=true
FEATURE_IMAGE_ANALYSIS=true
FEATURE_KNOWLEDGE_GRAPH=true
FEATURE_REAL_TIME_ANALYTICS=true
FEATURE_AUTO_SCALING=true
FEATURE_CIRCUIT_BREAKER=true
FEATURE_RATE_LIMITING=true
FEATURE_CACHING=true
FEATURE_TRACING=true
FEATURE_METRICS=true

# =============================================================================
# COMPLIANCE & SECURITY
# =============================================================================

# HIPAA Compliance
HIPAA_ENCRYPTION_ENABLED=true
HIPAA_AUDIT_LOGGING=true
HIPAA_DATA_RETENTION_DAYS=2555  # 7 years
HIPAA_ACCESS_CONTROL_ENABLED=true

# GDPR Compliance
GDPR_DATA_PROCESSING_ENABLED=true
GDPR_CONSENT_MANAGEMENT=true
GDPR_DATA_PORTABILITY=true
GDPR_RIGHT_TO_BE_FORGOTTEN=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
SECURITY_CSP_ENABLED=true
SECURITY_HSTS_ENABLED=true
SECURITY_XSS_PROTECTION=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Memory Management
MEMORY_LIMIT=8G
MEMORY_WARNING_THRESHOLD=0.8
GARBAGE_COLLECTION_ENABLED=true
GARBAGE_COLLECTION_THRESHOLD=0.7

# CPU Management
CPU_LIMIT=4
CPU_WARNING_THRESHOLD=0.8
WORKER_THREADS=4
CLUSTER_MODE=false

# Network Management
NETWORK_TIMEOUT=30000
NETWORK_RETRIES=3
NETWORK_KEEP_ALIVE=true
NETWORK_KEEP_ALIVE_TIMEOUT=5000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels
LOG_LEVEL_APP=info
LOG_LEVEL_HTTP=info
LOG_LEVEL_DATABASE=warn
LOG_LEVEL_CACHE=warn
LOG_LEVEL_EXTERNAL=warn

# Log Formats
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_COLORIZE=false

# Log Destinations
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs/application.log
LOG_FILE_MAX_SIZE=100MB
LOG_FILE_MAX_FILES=10

# Log Aggregation
LOG_ELASTICSEARCH_ENABLED=true
LOG_ELASTICSEARCH_URL=http://elasticsearch:9200
LOG_ELASTICSEARCH_INDEX=medical-extraction-logs

# =============================================================================
# HEALTH CHECKS
# =============================================================================

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Health Check Endpoints
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_CACHE=true
HEALTH_CHECK_EXTERNAL_APIS=true
HEALTH_CHECK_ML_MODELS=true

# =============================================================================
# MAINTENANCE MODE
# =============================================================================

# Maintenance Configuration
MAINTENANCE_MODE_ENABLED=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true

# Backup Destinations
BACKUP_LOCAL_ENABLED=true
BACKUP_LOCAL_PATH=/app/backups
BACKUP_S3_ENABLED=false
BACKUP_GCS_ENABLED=false
